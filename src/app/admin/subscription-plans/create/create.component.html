<div>
  <div>
    <div class="p-1 m-2">
      <div class="d-flex justify-content-between">
        <div
          class="d-flex align-items-center justify-content-center pointer-cursor"
          (click)="goBack()"
        >
          <span class="me-2 d-flex align-items-center">
            <img src="../../../assets/images/icons/left-arrow.svg" alt="Back" />
          </span>
          <b>
            <span class="back-btn-text text-capitalize">{{ heading }}</span>
          </b>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="loading">
  <app-preloader></app-preloader>
</div>

<form [formGroup]="planForm" (ngSubmit)="onSubmit(planForm.value)">
  <div class="card m-2 border-0">
    <div class="row p-2">
      <div class="col-md-4">
        <label>Plan ID</label>
        <input
          pInputText
          type="text"
          formControlName="planId"
          placeholder="PLN-001"
          class="w-100"
        />
      </div>

      <div class="col-md-4">
        <label>Plan Name</label>
        <input
          pInputText
          type="text"
          formControlName="plan_name"
          class="w-100"
        />
      </div>

      <div class="col-md-4">
        <label>Plan Type</label>
        <p-dropdown
          formControlName="plan_type"
          [options]="planTypes"
          optionLabel="label"
          optionValue="value"
          placeholder="Select Plan Type"
          styleClass="w-100"
        ></p-dropdown>
      </div>

      <div class="col-md-4">
        <label>Billing Cycle</label>
        <p-dropdown
          [options]="billingCycleOptions"
          formControlName="billing_cycle"
          optionLabel="label"
          optionValue="value"
          placeholder="Select Billing Cycle"
          styleClass="w-100"
        ></p-dropdown>
      </div>

      <div class="col-md-4">
        <label>Price</label>
        <input
          pInputText
          type="number"
          step="0.01"
          formControlName="price"
          class="w-100"
        />
      </div>

      <div class="col-md-4">
        <label>Duration (Days)</label>
        <input
          pInputText
          type="number"
          formControlName="duration_days"
          class="w-100"
        />
      </div>

      <div class="col-md-4">
        <div>
          <label>GST Applicable</label>
        </div>
        <p-dropdown
          [options]="gstApplicableOptions"
          formControlName="gst_applicable"
          optionLabel="label"
          optionValue="value"
          placeholder="Select"
          styleClass="w-100"
        ></p-dropdown>
      </div>

      <div class="col-md-4">
        <label>GST Percentage</label>
        <input
          pInputText
          type="number"
          step="0.01"
          formControlName="gst_percentage"
          class="w-100"
        />
      </div>

      <div class="col-md-12">
        <label>Features (comma separated)</label>
        <textarea
          pInputTextarea
          formControlName="features"
          rows="3"
          [autoResize]="true"
          class="w-100"
        ></textarea>
      </div>

      <div class="d-flex justify-content-center">
        <div class="d-flex mt-3 mb-5">
          <button
            pButton
            pRipple
            type="button"
            class="p-button-info me-2"
            (click)="goBack()"
          >
            Go Back
          </button>
          <button
            pButton
            pRipple
            type="submit"
            [disabled]="loading"
            label="{{ actionType == 'create' ? 'Add' : 'Update' }} Lead"
            class="p-button-primary"
          ></button>
        </div>
      </div>
    </div>
  </div>
</form>
